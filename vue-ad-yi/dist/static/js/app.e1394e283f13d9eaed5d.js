webpackJsonp([1],{RE31:function(t,e){},bGai:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i("//Fk"),s=i.n(r),o={props:{width:{type:Number,required:!0},height:{type:Number,required:!0},bgUrl:{type:String,required:!0},type:{type:String,required:!0},resourceList:{type:Array,required:!0},theme:{type:Object,required:!0},id:{type:String,required:!0}},data:function(){return{widthRatio:1,heightRatio:1,step:1}},methods:{main:function(){this.setBg()},setBg:function(){var t=this,e=document.querySelector("#"+this.id+" .yi-ad-preview-bg"),i=document.querySelector("#"+this.id+" .yi-ad-preview-bg > img");this.loadImageAsync(this.bgUrl).then(function(){t.widthRatio=t.width/i.naturalWidth,t.heightRatio=t.height/i.naturalHeight,t.widthRatio<=t.heightRatio?(e.style.width=i.naturalWidth*t.widthRatio+"px",e.style.height=i.naturalHeight*t.widthRatio+"px",i.width=i.naturalWidth*t.widthRatio,i.height=i.naturalHeight*t.widthRatio):(e.style.width=i.naturalWidth*t.heightRatio+"px",e.style.height=i.naturalHeight*t.heightRatio+"px",i.width=i.naturalWidth*t.heightRatio,i.height=i.naturalHeight*t.heightRatio),t.setTheme()})},setTheme:function(){var t=document.querySelector("#"+this.id+" .yi-ad-preview-bg"),e=this.getElementAttr(t),i=e.w,r=e.h,s=document.querySelector("#"+this.id+" .yi-ad-preview-theme");s.style.width=i*Number(this.theme.width)+"px",s.style.height=r*Number(this.theme.height)+"px",s.style.top=r*Number(this.theme.top)+"px",s.style.right=i*Number(this.theme.right)+"px",s.style.bottom=r*Number(this.theme.bottom)+"px",s.style.left=i*Number(this.theme.left)+"px",this.setResource()},setResource:function(){var t=this,e=document.querySelector("#"+this.id+" .yi-ad-preview-theme"),i=document.querySelectorAll("#"+this.id+" .yi-ad-preview-resource"),r=document.querySelectorAll("#"+this.id+" .yi-ad-preview-resource > img"),o=this.resourceList.map(function(e){return t.loadImageAsync(e.url)});s.a.all(o).then(function(s){var o=t.getElementAttr(e),a=o.w,l=o.h;t.resourceList.forEach(function(e,s){i[s].style.width=a*Number(e.width)+"px",i[s].style.height=l*Number(e.height)+"px",i[s].style.top=l*Number(e.y)+"px",i[s].style.left=a*Number(e.x)+"px";var o=a*Number(e.width),n=l*Number(e.height);t.widthRatio=o/r[s].naturalWidth,t.heightRatio=n/r[s].naturalHeight,t.widthRatio<=t.heightRatio?(i[s].style.width=o+"px",i[s].style.height=r[s].naturalHeight*t.widthRatio+"px"):(i[s].style.width=r[s].naturalWidth*t.heightRatio+"px",i[s].style.height=n+"px"),i[s].style.display="none"}),t.animate()}).catch(function(t){console.log(t)})},getElementAttr:function(t){return{w:Number(t.style.width.replace("px","")),h:Number(t.style.height.replace("px","")),t:Number(t.style.top.replace("px","")),r:Number(t.style.right.replace("px","")),b:Number(t.style.bottom.replace("px","")),l:Number(t.style.left.replace("px",""))}},loadImageAsync:function(t){return new s.a(function(e,i){var r=new Image;r.onload=function(){e(r)},r.onerror=function(){i(new Error("Could not load image at "+t))},r.src=t})},animate:function(){var t=this,e=document.querySelector("#"+this.id+" .yi-ad-preview-bg"),i=this.getElementAttr(e),r=(i.w,i.h,document.querySelector("#"+this.id+" .yi-ad-preview-theme")),s=this.getElementAttr(r),o=s.w,a=s.h,l=(s.t,s.r,s.b,s.l,document.querySelectorAll("#"+this.id+" .yi-ad-preview-resource"));this.resourceList.forEach(function(e,i){var r=t.getElementAttr(l[i]),s=r.w,n=r.h,h=r.t,u=(r.r,r.b,r.l);switch(e.animation){case"top":clearInterval(e.timer),e.originalPosition=Number(l[i].style.top.replace("px","")),e.timerDelay=setTimeout(function(){l[i].style.display="block",e.startPosition=-n,e.stopPosition=e.originalPosition,l[i].style.top=e.startPosition+"px",e.unitTime=1e3*e.duration*t.step/Math.abs(e.stopPosition-e.startPosition),e.timer=setInterval(function(){parseInt(l[i].style.top.replace("px",""))<=parseInt(e.stopPosition)?l[i].style.top=Number(l[i].style.top.replace("px",""))+t.step+"px":clearInterval(e.timer)},e.unitTime),clearTimeout(e.timerDelay)},1e3*e.delay);break;case"right":clearInterval(e.timer),e.timerDelay=setTimeout(function(){l[i].style.display="block",l[i].style.left=null,e.startPosition=-s,e.stopPosition=o-u-s,l[i].style.right=e.startPosition+"px",e.unitTime=1e3*e.duration*t.step/Math.abs(e.stopPosition-e.startPosition),e.timer=setInterval(function(){parseInt(l[i].style.right.replace("px",""))<=parseInt(e.stopPosition)?l[i].style.right=Number(l[i].style.right.replace("px",""))+t.step+"px":clearInterval(e.timer)},e.unitTime),clearTimeout(e.timerDelay)},1e3*e.delay);break;case"bottom":clearInterval(e.timer),e.timerDelay=setTimeout(function(){l[i].style.display="block",l[i].style.top=null,e.startPosition=-n,e.stopPosition=a-h-n,l[i].style.bottom=e.startPosition+"px",e.unitTime=1e3*e.duration*t.step/Math.abs(e.stopPosition-e.startPosition),e.timer=setInterval(function(){parseInt(l[i].style.bottom.replace("px",""))<=parseInt(e.stopPosition)?l[i].style.bottom=Number(l[i].style.bottom.replace("px",""))+t.step+"px":clearInterval(e.timer)},e.unitTime),clearTimeout(e.timerDelay)},1e3*e.delay);break;case"left":clearInterval(e.timer),e.originalPosition=Number(l[i].style.left.replace("px","")),e.timerDelay=setTimeout(function(){l[i].style.display="block",e.startPosition=-s,e.stopPosition=e.originalPosition,l[i].style.left=e.startPosition+"px",e.unitTime=1e3*e.duration*t.step/Math.abs(e.stopPosition-e.startPosition),e.timer=setInterval(function(){parseInt(l[i].style.left.replace("px",""))<=parseInt(e.stopPosition)?l[i].style.left=Number(l[i].style.left.replace("px",""))+t.step+"px":clearInterval(e.timer)},e.unitTime),clearTimeout(e.timerDelay)},1e3*e.delay)}})}},mounted:function(){this.main()}},a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"yi-ad-preview",style:{width:t.width+"px",height:t.height+"px"},attrs:{id:t.id}},[i("div",{staticClass:"yi-ad-preview-bg"},[t.bgUrl?i("img",{attrs:{src:t.bgUrl,alt:""}}):t._e(),t._v(" "),i("div",{staticClass:"yi-ad-preview-theme"},[i("ul",t._l(t.resourceList,function(e){return t.resourceList?i("li",{staticClass:"yi-ad-preview-resource"},[i("img",{attrs:{src:e.url}})]):t._e()}))])])])},staticRenderFns:[]};var l=i("VU/8")(o,a,!1,function(t){i("RE31")},"data-v-668fa3f1",null).exports;i.d(e,"AdPreview",function(){return l})}},["bGai"]);
//# sourceMappingURL=app.e1394e283f13d9eaed5d.js.map