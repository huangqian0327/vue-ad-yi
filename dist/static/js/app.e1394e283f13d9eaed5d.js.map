{"version":3,"sources":["webpack:///src/components/ad-preview/yi-ad-preview.vue","webpack:///./src/components/ad-preview/yi-ad-preview.vue?38db","webpack:///./src/components/ad-preview/yi-ad-preview.vue"],"names":["yi_ad_preview","props","width","type","Number","required","height","bgUrl","String","resourceList","Array","theme","Object","id","data","widthRatio","heightRatio","step","methods","main","this","setBg","_this","currentBg","document","querySelector","currentBgImg","loadImageAsync","then","naturalWidth","naturalHeight","style","setTheme","_getElementAttr","getElementAttr","currentBgWidth","w","currentBgHeight","h","top","right","bottom","left","setResource","_this2","resource","querySelectorAll","resourceImg","promises","map","url","promise_default","a","all","posts","_getElementAttr2","themeWidth","themeHeight","forEach","item","index","y","x","resourceWidth","resourceHeight","display","animate","catch","reason","console","log","el","replace","t","r","b","l","resolve","reject","image","Image","onload","onerror","Error","src","_this3","bg","_getElementAttr3","_getElementAttr4","_getElementAttr5","resourceTop","resourceLeft","animation","clearInterval","timer","originalPosition","timerDelay","setTimeout","startPosition","stopPosition","unitTime","duration","Math","abs","setInterval","parseInt","clearTimeout","delay","mounted","ad_preview_yi_ad_preview","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","alt","_e","_v","_l","staticRenderFns","components_ad_preview_yi_ad_preview","__webpack_require__","normalizeComponent","ssrContext"],"mappings":"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","file":"static/js/app.e1394e283f13d9eaed5d.js","sourcesContent":["<template>\n  <div \n    class=\"yi-ad-preview\" \n    :id=\"id\"\n    :style=\"{\n      width: width + 'px', \n      height: height + 'px'\n    }\">\n    <div \n      class=\"yi-ad-preview-bg\">\n      <img v-if=\"bgUrl\" :src=\"bgUrl\" alt=\"\">\n      <div class=\"yi-ad-preview-theme\">\n        <ul>\n          <li v-if=\"resourceList\" v-for=\"item in resourceList\" class=\"yi-ad-preview-resource\">\n            <img :src=\"item.url\">\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    props: {\n      width: {\n        type: Number,\n        required: true\n      },\n      height: {\n        type: Number,\n        required: true\n      },\n      bgUrl: {\n        type: String,\n        required: true\n      },\n      type: {\n        type: String,\n        required: true\n      },\n      resourceList: {\n        type: Array,\n        required: true\n      },\n      theme: {\n        type: Object,\n        required: true\n      },\n      id: {\n        type: String,\n        required: true\n      }\n    },\n    data () {\n      return {\n        widthRatio: 1,//缩放比\n        heightRatio: 1,//缩放比\n        step: 1\n      }\n    },\n    methods: {\n      main () {\n        this.setBg()\n      },\n      setBg () {\n        //获取当前背景的宽高\n        let currentBg = document.querySelector(`#${this.id} .yi-ad-preview-bg`)\n        let currentBgImg = document.querySelector(`#${this.id} .yi-ad-preview-bg > img`)\n\n        this.loadImageAsync(this.bgUrl).then(() => {\n          this.widthRatio =  this.width / currentBgImg.naturalWidth\n          this.heightRatio =  this.height / currentBgImg.naturalHeight\n          if (this.widthRatio <= this.heightRatio) {\n            currentBg.style.width = currentBgImg.naturalWidth * this.widthRatio + 'px'\n            currentBg.style.height = currentBgImg.naturalHeight * this.widthRatio + 'px'\n            currentBgImg.width= currentBgImg.naturalWidth * this.widthRatio\n            currentBgImg.height = currentBgImg.naturalHeight * this.widthRatio\n          } else {\n            currentBg.style.width = currentBgImg.naturalWidth * this.heightRatio + 'px'\n            currentBg.style.height = currentBgImg.naturalHeight * this.heightRatio + 'px'\n            currentBgImg.width  = currentBgImg.naturalWidth * this.heightRatio\n            currentBgImg.height = currentBgImg.naturalHeight * this.heightRatio\n          }\n          //设置主题\n          this.setTheme()\n        })\n      },\n      setTheme () {\n        let currentBg = document.querySelector(`#${this.id} .yi-ad-preview-bg`)\n        //获取当前 bg 的宽高\n        let {w: currentBgWidth, h: currentBgHeight} = this.getElementAttr(currentBg)\n        let theme = document.querySelector(`#${this.id} .yi-ad-preview-theme`)\n        theme.style.width = currentBgWidth * Number(this.theme.width) + 'px'\n        theme.style.height = currentBgHeight * Number(this.theme.height) + 'px'\n\n        theme.style.top = currentBgHeight * Number(this.theme.top) + 'px'\n        theme.style.right = currentBgWidth * Number(this.theme.right) + 'px'\n        theme.style.bottom = currentBgHeight * Number(this.theme.bottom) + 'px'\n        theme.style.left = currentBgWidth * Number(this.theme.left) + 'px'\n        \n        //设置资源\n        this.setResource()\n      },\n      setResource () {\n        let theme = document.querySelector(`#${this.id} .yi-ad-preview-theme`)\n        let resource = document.querySelectorAll(`#${this.id} .yi-ad-preview-resource`)\n        let resourceImg = document.querySelectorAll(`#${this.id} .yi-ad-preview-resource > img`)\n        const promises = this.resourceList.map(resource => {\n          return this.loadImageAsync(resource.url)\n        })\n       \n        Promise.all(promises).then(posts => {\n          let {w: themeWidth, h: themeHeight} = this.getElementAttr(theme)\n          this.resourceList.forEach((item, index) => {\n            resource[index].style.width = themeWidth * Number(item.width) + 'px'\n            resource[index].style.height = themeHeight * Number(item.height) + 'px'\n            resource[index].style.top = themeHeight * Number(item.y) + 'px'\n            resource[index].style.left = themeWidth * Number(item.x) + 'px'\n\n            let resourceWidth = themeWidth * Number(item.width)\n            let resourceHeight = themeHeight * Number(item.height)\n\n            this.widthRatio =  resourceWidth / resourceImg[index].naturalWidth\n            this.heightRatio =  resourceHeight / resourceImg[index].naturalHeight\n\n            //矫正\n            if (this.widthRatio <= this.heightRatio) {\n              resource[index].style.width = resourceWidth + 'px'\n              resource[index].style.height = resourceImg[index].naturalHeight * this.widthRatio + 'px'\n            } else {\n              resource[index].style.width = resourceImg[index].naturalWidth * this.heightRatio + 'px'\n              resource[index].style.height = resourceHeight + 'px'\n            }\n            //暂时隐藏所有的资源\n            resource[index].style.display = 'none'\n          })\n          //执行动画\n          this.animate()\n        }).catch(function(reason){\n          console.log(reason)\n        })\n      },\n      getElementAttr (el) {\n        let w = Number(el.style.width.replace('px', ''))\n        let h = Number(el.style.height.replace('px', ''))\n        let t = Number(el.style.top.replace('px', ''))\n        let r = Number(el.style.right.replace('px', ''))\n        let b = Number(el.style.bottom.replace('px', ''))\n        let l = Number(el.style.left.replace('px', ''))\n        return {w, h, t, r, b, l} \n      },\n      loadImageAsync (url) {\n        return new Promise(function(resolve, reject) {\n          const image = new Image()\n\n          image.onload = function() {\n            resolve(image)\n          }\n\n          image.onerror = function() {\n            reject(new Error('Could not load image at ' + url))\n          }\n\n          image.src = url\n        })\n      },\n      animate () {\n        let bg = document.querySelector(`#${this.id} .yi-ad-preview-bg`)\n        //获取当前 bg 的宽高\n        let {w: bgWidth, h: bgHeight} = this.getElementAttr(bg)\n        let theme = document.querySelector(`#${this.id} .yi-ad-preview-theme`)\n        let {\n          w: themeWidth, \n          h: themeHeight, \n          t: themeTop,\n          r: themeRight,\n          b: themeBottom,\n          l: themeLeft\n        } = this.getElementAttr(theme)\n        let resource = document.querySelectorAll(`#${this.id} .yi-ad-preview-resource`)\n\n        this.resourceList.forEach((item, index) => {\n          //获取当前资源的宽高\n          let {\n            w: resourceWidth, \n            h: resourceHeight, \n            t: resourceTop,\n            r: resourceRight,\n            b: resourceBottom,\n            l: resourceLeft\n          } = this.getElementAttr(resource[index])\n\n          switch (item.animation) {\n            case 'top':\n              clearInterval(item.timer)\n              //横坐标不变，纵坐标变             \n              //记录当前定位的位置为资源的结束位置\n              item.originalPosition = Number(resource[index].style.top.replace('px', ''))\n              item.timerDelay = setTimeout(() => {\n                //开始运动显示资源\n                resource[index].style.display = 'block'\n                //运动开始位置 = 资源的高度\n                item.startPosition = -resourceHeight\n                //运动结束位置 = 之前定位的位置\n                item.stopPosition = item.originalPosition\n                resource[index].style.top = item.startPosition + 'px'\n                \n                // resource[index].style.bottom = item.stopPosition + 'px'\n\n                item.unitTime = (item.duration * 1000 * this.step) / Math.abs(item.stopPosition - item.startPosition)  \n\n                item.timer = setInterval(() => {\n                  if (parseInt(resource[index].style.top.replace('px', '')) <= parseInt(item.stopPosition)) {\n                    resource[index].style.top = Number(resource[index].style.top.replace('px', '')) + this.step + 'px'\n                  } else {\n                    clearInterval(item.timer)\n                  }\n                }, item.unitTime)\n                clearTimeout(item.timerDelay)\n              }, item.delay * 1000)\n              break\n            case 'right':\n              clearInterval(item.timer)\n              //横坐标不变，纵坐标变           \n              item.timerDelay = setTimeout(() => {\n                //开始运动显示资源\n                resource[index].style.display = 'block'\n                //清理原来用于定位的 left\n                resource[index].style.left = null\n                //运动开始位置 = 资源的宽度\n                item.startPosition = -resourceWidth\n                //运动结束位置 = 主题的高宽度 - 资源的宽度 - 资源的宽度\n                item.stopPosition = themeWidth - resourceLeft - resourceWidth\n                resource[index].style.right = item.startPosition + 'px'\n                \n                // resource[index].style.bottom = item.stopPosition + 'px'\n\n                item.unitTime = (item.duration * 1000 * this.step) / Math.abs(item.stopPosition - item.startPosition)  \n\n                item.timer = setInterval(() => {\n                  if (parseInt(resource[index].style.right.replace('px', '')) <= parseInt(item.stopPosition)) {    \n                    resource[index].style.right = Number(resource[index].style.right.replace('px', '')) + this.step + 'px'\n                  } else {\n                    clearInterval(item.timer)\n                  }\n                }, item.unitTime)\n                clearTimeout(item.timerDelay)\n              }, item.delay * 1000)\n              break\n            case 'bottom':\n              clearInterval(item.timer)\n              //横坐标不变，纵坐标变           \n              item.timerDelay = setTimeout(() => {\n                //开始运动显示资源\n                resource[index].style.display = 'block'\n                //清理原来用于定位的top\n                resource[index].style.top = null\n                //运动开始位置 = 资源的高度\n                item.startPosition = -resourceHeight\n                //运动结束位置 = 主题的高度 - 资源的高度 - 资源的 top\n                item.stopPosition = themeHeight - resourceTop - resourceHeight\n\n                resource[index].style.bottom = item.startPosition + 'px'\n                \n                item.unitTime = (item.duration * 1000 * this.step) / Math.abs(item.stopPosition - item.startPosition)  \n\n                item.timer = setInterval(() => {\n                  if (parseInt(resource[index].style.bottom.replace('px', '')) <= parseInt(item.stopPosition)) {\n                    resource[index].style.bottom = Number(resource[index].style.bottom.replace('px', '')) + this.step + 'px'\n                  } else {\n                    clearInterval(item.timer)\n                  }\n                }, item.unitTime)\n                clearTimeout(item.timerDelay)\n              }, item.delay * 1000)\n              break\n            case 'left':\n              clearInterval(item.timer)\n              //纵坐标不变，横坐标变             \n              //记录当前定位的位置为资源的结束位置\n              item.originalPosition = Number(resource[index].style.left.replace('px', ''))\n              item.timerDelay = setTimeout(() => {\n                //开始运动显示资源\n                resource[index].style.display = 'block'\n                //运动开始位置 = 资源的高度\n                item.startPosition = -resourceWidth\n                //运动结束位置 = 之前定位的位置\n                item.stopPosition = item.originalPosition\n                resource[index].style.left = item.startPosition + 'px'\n                \n                // resource[index].style.bottom = item.stopPosition + 'px'\n\n                item.unitTime = (item.duration * 1000 * this.step) / Math.abs(item.stopPosition - item.startPosition)  \n\n                item.timer = setInterval(() => {\n                  if (parseInt(resource[index].style.left.replace('px', '')) <= parseInt(item.stopPosition)) {\n                    resource[index].style.left = Number(resource[index].style.left.replace('px', '')) + this.step + 'px'\n                  } else {\n                    clearInterval(item.timer)\n                  }\n                }, item.unitTime)\n                clearTimeout(item.timerDelay)\n              }, item.delay * 1000)\n              break\n          }\n        })\n      }\n    },\n    mounted () {\n      this.main()     \n    }\n  }\n</script>\n\n<style lang=\"less\" scoped>\n  .yi-ad-preview {\n    position: relative;\n    width: 100%;\n    height: 100%;\n    background-color: #000;\n    .yi-ad-preview-bg {\n      position: absolute;\n      background-color: #aaa;\n      left: 50%;\n      top: 50%;\n      transform: translate(-50%, -50%);\n      img {\n        position: absolute;\n        left: 50%;\n        top: 50%;\n        transform: translate(-50%, -50%);\n      }\n      .yi-ad-preview-theme {\n        position: absolute;\n        overflow: hidden;\n        width: 100%;\n        height: 100%;\n        background-color: yellow;\n        ul {\n          margin: 0;\n          padding: 0;\n          .yi-ad-preview-resource {\n            list-style: none;\n            position: absolute;\n            img {\n              width: 100%;\n              height: 100%\n            }\n          }\n        } // end ul\n      } // end theme\n    } // end logoBg\n  }\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/ad-preview/yi-ad-preview.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"yi-ad-preview\",style:({\n    width: _vm.width + 'px', \n    height: _vm.height + 'px'\n  }),attrs:{\"id\":_vm.id}},[_c('div',{staticClass:\"yi-ad-preview-bg\"},[(_vm.bgUrl)?_c('img',{attrs:{\"src\":_vm.bgUrl,\"alt\":\"\"}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"yi-ad-preview-theme\"},[_c('ul',_vm._l((_vm.resourceList),function(item){return (_vm.resourceList)?_c('li',{staticClass:\"yi-ad-preview-resource\"},[_c('img',{attrs:{\"src\":item.url}})]):_vm._e()}))])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-668fa3f1\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ad-preview/yi-ad-preview.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-668fa3f1\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./yi-ad-preview.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./yi-ad-preview.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./yi-ad-preview.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-668fa3f1\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./yi-ad-preview.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-668fa3f1\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ad-preview/yi-ad-preview.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}